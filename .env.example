# --- Database ---
# Format: postgresql+asyncpg://user:password@host:port/dbname (Production)
# OR sqlite+aiosqlite:///./playlist_downloader.db (Local Preview)
DATABASE_URL=postgresql+asyncpg://user:password@host:port/dbname

# --- Spotify API ---
# Get these from https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=your_client_id
SPOTIFY_CLIENT_SECRET=your_client_secret

# Prefer yt-dlp search for Spotify track downloads (more reliable on shared/cloud IPs).
# Set to true if you explicitly want to try spotdl.
SPOTIFY_USE_SPOTDL=false

# --- yt-dlp / YouTube (Optional) ---
# Some hosts (especially cloud) may trigger YouTube bot-checks. Cookies can help.
#
# Recommended: set YTDLP_COOKIES_B64 to a base64-encoded cookies.txt (Netscape format).
# Keep this secret; DO NOT commit it.
YTDLP_COOKIES_B64=
# Alternative (recommended on hosts that reject very long env vars):
# Put cookies.txt somewhere private and set this to that URL.
YTDLP_COOKIES_URL=
# Alternative: path to a cookies.txt file (mostly useful for local Docker with a bind mount)
YTDLP_COOKIES_PATH=
# Optional: auto-extract cookies from a local browser profile (best for local dev)
YTDLP_COOKIES_BROWSER=
# Some environments work better with the Android client.
YTDLP_YOUTUBE_PLAYER_CLIENT=android

# --- yt-dlp Throttling Controls (Recommended on cloud IPs) ---
# Concurrency of concurrent downloads inside a single task
YTDLP_MAX_WORKERS=1
# Sleep between requests (helps reduce 429/bot checks on shared IPs)
YTDLP_SLEEP_INTERVAL=1.0
YTDLP_MAX_SLEEP_INTERVAL=3.0
YTDLP_SLEEP_INTERVAL_REQUESTS=1

# --- Security ---
# Generate with: openssl rand -hex 32
SECRET_KEY=change_me_to_random_secret

# --- App Config ---
APP_ENV=production
API_PORT=8000
# JSON List of allowed origins for CORS
CORS_ORIGINS=["https://your-frontend.vercel.app"]
